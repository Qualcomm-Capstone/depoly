# ===========================================
# SpeedCam Backend 환경 변수
# ===========================================
# 사용법: 이 파일을 backend.env로 복사 후 수정
# cp backend.env.example backend.env

# Django
SECRET_KEY=<production-secret-key>
DJANGO_SETTINGS_MODULE=config.settings.prod
DEBUG=False

# Database -- hosts.env의 DB_HOST IP로 교체
DB_HOST=<DB_HOST IP>
DB_PORT=3306
DB_USER=sa
DB_PASSWORD=<production-password>
DB_NAME=speedcam
DB_NAME_VEHICLES=speedcam_vehicles
DB_NAME_DETECTIONS=speedcam_detections
DB_NAME_NOTIFICATIONS=speedcam_notifications

# RabbitMQ / Celery -- hosts.env의 MQ_HOST IP로 교체
CELERY_BROKER_URL=amqp://sa:<password>@<MQ_HOST IP>:5672//
RABBITMQ_HOST=<MQ_HOST IP>
MQTT_PORT=1883
MQTT_USER=sa
MQTT_PASS=<password>

# GCS / Firebase
GOOGLE_APPLICATION_CREDENTIALS=/app/credentials/gcp-cloud-storage.json
FIREBASE_CREDENTIALS=/app/credentials/firebase-service-account.json

# Workers
OCR_CONCURRENCY=4
ALERT_CONCURRENCY=100
OCR_MOCK=false
FCM_MOCK=false

# Gunicorn
GUNICORN_WORKERS=4
GUNICORN_THREADS=2

# Logging
LOG_LEVEL=info

# CORS -- 프론트엔드 도메인으로 교체 (도메인 없으면 프론트엔드 IP)
CORS_ALLOWED_ORIGINS=http://localhost:3000

# OpenTelemetry -- hosts.env의 MON_HOST IP로 교체
OTEL_EXPORTER_OTLP_ENDPOINT=http://<MON_HOST IP>:4317
OTEL_EXPORTER_OTLP_PROTOCOL=grpc
OTEL_RESOURCE_ATTRIBUTES=service.namespace=speedcam,deployment.environment=prod
OTEL_TRACES_SAMPLER=parentbased_tracealways
OTEL_PYTHON_LOG_CORRELATION=true
